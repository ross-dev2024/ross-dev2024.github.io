import{_ as a,c as t,d as i,o as s}from"./app-CoYBJm5w.js";const n="/images/21.Elasticsearch/43583fb6.png",r="/images/21.Elasticsearch/90fa5427.png",l="/images/21.Elasticsearch/a164ce42.png",c="/images/21.Elasticsearch/7bbcf3ea.png",o="/images/21.Elasticsearch/40f086a6.png",h="/images/21.Elasticsearch/eba50084.png",d="/images/21.Elasticsearch/90ca6d5a.png",p="/images/21.Elasticsearch/9195d7bd.png",m={};function g(u,e){return s(),t("div",null,e[0]||(e[0]=[i('<h2 id="elasticsearch-とは" tabindex="-1"><a class="header-anchor" href="#elasticsearch-とは"><span>Elasticsearch とは</span></a></h2><p>複数のファイルから特定の文字列を分散検索するソフトウェアです。 ES は主に次の問題を解決します。</p><ol><li>関連データを取得する;</li><li>統計結果を返す;</li><li>高速である。</li></ol><div class="hint-container note"><p class="hint-container-title">注</p><p>全文検索とは、複数のファイルから特定の文字列を検索することです。</p></div><h2 id="thinking" tabindex="-1"><a class="header-anchor" href="#thinking"><span>Thinking</span></a></h2><h3 id="大規模なデータをどのように取得するか" tabindex="-1"><a class="header-anchor" href="#大規模なデータをどのように取得するか"><span>大規模なデータをどのように取得するか？</span></a></h3><p>たとえば、システムのデータ量が 10 億や 100 億に達した場合、システム アーキテクチャを設計する際には、通常次のような観点から問題を検討します。</p><ol><li>どのデータベースを使用するのが最適か? ( MySQL、 sybase 、 Oracle 、 Dameng 、 Shentong 、MongoDB、 Hbase...)</li><li>単一障害点を解決する方法 (lvs、F5、A10、Zookeeper、MQ)</li><li>データのセキュリティを確保する方法 (ホットスタンバイ) 、コールド スタンバイ、さまざまな場所でのマルチ アクティビティ)</li><li>取得問題の解決方法 (データベース プロキシ ミドルウェア: mysql-proxy、Cobar、MaxScale など)</li><li>統計分析の問題の解決方法 (オフライン、ほぼリアル) -時間）</li></ol><h3 id="従来型データベースのソリューション" tabindex="-1"><a class="header-anchor" href="#従来型データベースのソリューション"><span>従来型データベースのソリューション</span></a></h3><p>リレーショナル データの場合、クエリ ボトルネックと書き込みボトルネックを解決するために、通常、次のアーキテクチャまたは同様のアーキテクチャを使用します: 解決策のポイント:</p><ol><li>マスター/スレーブ バックアップを通じてデータ セキュリティの問題を解決する;</li><li>データベース エージェント ミドルウェアのハートビート モニタリングを通じて単一障害点を解決する</li><li>プロキシミドルウェアを介してクエリ文を各スレーブノードに配信し、結果を集計します。</li></ol><p><img src="'+n+'" alt="Algolia搜索"></p><h3 id="非リレーショナルデータベース向けソリューション" tabindex="-1"><a class="header-anchor" href="#非リレーショナルデータベース向けソリューション"><span>非リレーショナルデータベース向けソリューション</span></a></h3><p>Nosql データベースの場合、mongodb を例に挙げると、 他の原則も同様です: 解決策のポイント:</p><ol><li>コピー バックアップを通じてデータ セキュリティを確保する;</li><li>ノード選択メカニズムを通じて単一点の問題を解決する;</li><li>最初に構成ライブラリからシャーディング情報を取得する;その後、リクエストは各ノードに分散され、最後にルーティング ノードが結果をマージして要約します。 <img src="'+r+'" alt="Algolia搜索"></li></ol><h2 id="elasticsearch-structure-and-concepts" tabindex="-1"><a class="header-anchor" href="#elasticsearch-structure-and-concepts"><span>Elasticsearch Structure and Concepts</span></a></h2><p><img src="'+l+'" alt=""></p><p><img src="'+c+'" alt=""></p><ul><li>Cluster is a collection of one or more nodes.</li><li>Node is a single server instance that runs Elasticsearch. While communicating with the cluster, it: Stores and indexes your data Provides search.</li><li>Index is used to store the documents in dedicated data structures corresponding to the data type of fields (akin to a SQL database). Each index has one or more shards and replicas.</li><li>Type is a collection of documents, which have something in common (akin to a SQL table).</li><li>Shard is an Apache Lucene index. It&#39;s used to split indices and keep large amounts of data manageable.</li><li>Replica is a fail-safe mechanism and basically a copy of your index&#39;s shard. Document is a basic unit of information that can be indexed (akin to a SQL row). It&#39;s expressed in JSON, which is a ubiquitous internet data interchange format. Field is the smallest individual unit of data in Elasticsearch (akin to a SQL column).</li></ul><table><thead><tr><th>Relational Database</th><th>Elasticsearch</th></tr></thead><tbody><tr><td>Cluster</td><td>Cluster</td></tr><tr><td>RDBMS Instance</td><td>Node</td></tr><tr><td>Table</td><td>Index</td></tr><tr><td>Row</td><td>Document</td></tr><tr><td>Column</td><td>Field</td></tr></tbody></table><h3 id="shard" tabindex="-1"><a class="header-anchor" href="#shard"><span>shard</span></a></h3><p><img src="'+o+'" alt=""></p><ul><li>Distributing Documents across Shards (Routing) <img src="'+h+'" alt=""></li></ul><h3 id="replication" tabindex="-1"><a class="header-anchor" href="#replication"><span>Replication</span></a></h3><ul><li>to provide high availability in case nodes or shards fail.</li><li>increased performance for search queries. <img src="'+d+'" alt=""></li><li>operations that affect the index — such as adding, updating, or removing documents — are sent to the primary shard.</li><li>When the operation completes, the operation will be forwarded to each of the replica shards in the replica group. If the shard has multiple replicas, the operation will be performed in parallel on each of the replicas.</li><li>When the operation has completed successfully on every replica and responded to the primary shard, the primary shard will respond to the client that the operation has completed successfully.</li></ul><p><img src="'+p+'" alt=""></p><h2 id="reference" tabindex="-1"><a class="header-anchor" href="#reference"><span>Reference</span></a></h2><ul><li><a href="https://cloud.tencent.com/developer/article/1066239?areaId=106001" target="_blank" rel="noopener noreferrer">Elasticsearch学习，请先看这一篇！</a></li><li><a href="https://testdriven.io/blog/django-drf-elasticsearch/" target="_blank" rel="noopener noreferrer">https://testdriven.io/blog/django-drf-elasticsearch/</a></li><li><a href="https://codingexplained.com/coding/elasticsearch/understanding-sharding-in-elasticsearch" target="_blank" rel="noopener noreferrer">Understanding Replication in Elasticsearch</a></li><li><a href="https://engineering.mercari.com/blog/entry/20220311-97aec2a2f8/" target="_blank" rel="noopener noreferrer">Elasticsearch運用ノウハウ</a></li></ul>',28)]))}const b=a(m,[["render",g],["__file","index.html.vue"]]),E=JSON.parse(`{"path":"/es/elastic0101/","title":"Elasticsearchとは","lang":"zh-CN","frontmatter":{"title":"Elasticsearchとは","author":"ross","createTime":"2020-05-11T13:59:38.000Z","permalink":"/es/elastic0101/","description":"Elasticsearch とは 複数のファイルから特定の文字列を分散検索するソフトウェアです。 ES は主に次の問題を解決します。 関連データを取得する; 統計結果を返す; 高速である。 注 全文検索とは、複数のファイルから特定の文字列を検索することです。 Thinking 大規模なデータをどのように取得するか？ たとえば、システムのデータ量が 10...","head":[["script",{"id":"check-dark-mode"},";(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = um === 'dark' || (um !== 'light' && sm);document.documentElement.dataset.theme = isDark ? 'dark' : 'light';})();"],["script",{"id":"check-mac-os"},"document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))"],["meta",{"property":"og:url","content":"https://wangjw.cn/es/elastic0101/"}],["meta",{"property":"og:site_name","content":"ross.dev"}],["meta",{"property":"og:title","content":"Elasticsearchとは"}],["meta",{"property":"og:description","content":"Elasticsearch とは 複数のファイルから特定の文字列を分散検索するソフトウェアです。 ES は主に次の問題を解決します。 関連データを取得する; 統計結果を返す; 高速である。 注 全文検索とは、複数のファイルから特定の文字列を検索することです。 Thinking 大規模なデータをどのように取得するか？ たとえば、システムのデータ量が 10..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://wangjw.cn/images/21.Elasticsearch/43583fb6.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-10-05T09:23:17.000Z"}],["meta",{"property":"article:author","content":"ross"}],["meta",{"property":"article:modified_time","content":"2024-10-05T09:23:17.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Elasticsearchとは\\",\\"image\\":[\\"https://wangjw.cn/images/21.Elasticsearch/43583fb6.png\\",\\"https://wangjw.cn/images/21.Elasticsearch/90fa5427.png\\",\\"https://wangjw.cn/images/21.Elasticsearch/a164ce42.png\\",\\"https://wangjw.cn/images/21.Elasticsearch/7bbcf3ea.png\\",\\"https://wangjw.cn/images/21.Elasticsearch/40f086a6.png\\",\\"https://wangjw.cn/images/21.Elasticsearch/eba50084.png\\",\\"https://wangjw.cn/images/21.Elasticsearch/90ca6d5a.png\\",\\"https://wangjw.cn/images/21.Elasticsearch/9195d7bd.png\\"],\\"dateModified\\":\\"2024-10-05T09:23:17.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"ross\\"}]}"]]},"headers":[{"level":2,"title":"Elasticsearch とは","slug":"elasticsearch-とは","link":"#elasticsearch-とは","children":[]},{"level":2,"title":"Thinking","slug":"thinking","link":"#thinking","children":[{"level":3,"title":"大規模なデータをどのように取得するか？","slug":"大規模なデータをどのように取得するか","link":"#大規模なデータをどのように取得するか","children":[]},{"level":3,"title":"従来型データベースのソリューション","slug":"従来型データベースのソリューション","link":"#従来型データベースのソリューション","children":[]},{"level":3,"title":"非リレーショナルデータベース向けソリューション","slug":"非リレーショナルデータベース向けソリューション","link":"#非リレーショナルデータベース向けソリューション","children":[]}]},{"level":2,"title":"Elasticsearch Structure and Concepts","slug":"elasticsearch-structure-and-concepts","link":"#elasticsearch-structure-and-concepts","children":[{"level":3,"title":"shard","slug":"shard","link":"#shard","children":[]},{"level":3,"title":"Replication","slug":"replication","link":"#replication","children":[]}]},{"level":2,"title":"Reference","slug":"reference","link":"#reference","children":[]}],"readingTime":{"minutes":1.92,"words":577},"git":{"createdTime":1728024460000,"updatedTime":1728120197000,"contributors":[{"name":"wangjw","email":"wangjw","commits":1}]},"autoDesc":true,"filePathRelative":"notes/21.Elasticsearch/1.Concept/1.concept.md"}`);export{b as comp,E as data};
