---
title: 分层领域模型相关总结
date: 2024-03-03 10:58:07
permalink: /pages/ms-do
article: false
---


## 模型

 DO（Data Object）：此对象与数据库表结构一一对应，通过 DAO 层向上传输数据源对象。

⚫ DTO（Data Transfer Object）：数据传输对象，Service 或 Manager 向外传输的对象。

⚫ BO（Business Object）：业务对象，可以由 Service 层输出的封装业务逻辑的对象。

⚫ Query：数据查询对象，各层接收上层的查询请求。注意超过 2 个参数的查询封装，禁止使用 Map 类来传输。

⚫ VO（View Object）：显示层对象，通常是 Web 向模板渲染引擎层传输的对象。

⚫ PO（Persistent Object）：指数据库表一 一对应的 POJO 类。此对象与数据库表结构一 一对应，通过 DAO 层向上
传输数据源对象，即Entity。

⚫POJO（Plain Ordinary Java Object）：在本规约中，POJO 专指只有 setter / getter / toString 的简单类，包括
DO / DTO / BO / VO 等。

## why
- 不需要的字段也会传递到前端页面。 
- 某些字段需要转换，但是无法支持
- 某些字段要展示，但是并不希望出现在数据库中 


1. 优点

    接口入参干净：当数据库字段比较复杂的情况，一部分字段又不需要前端传，VO和PO字段名分开，可以单独设置接口入参类，简单干净，而且通过swagger可以清楚地知道这个接口需要什么参数
    隐藏表字段结构：如果我们不像让别人知道表字段名，VO和PO的字段叫法可以设置不一样，只需要在转化类的时候赋值一下就OK了
    易维护：代码可读性变强

2. 缺点

    开发初期需要大量的convert方法，工作量变大


###    情報の肥大化、高負荷
        1つのEntityに情報が数百と入っている場合、それの通信、呼び出しに時間がかかる。
        加えて、必要な情報が分かりにくい、処理が面倒といった問題にもつながる。
###    不適切なデータにアクセスできる
        ContorollerにEntityが行くと、その中のpasswordなど秘匿されるべきデータにもアクセスできる。
        何かのバグで公開させる危険性もあり、あらかじめデータを制限することが必要になる。
###    ユーザの入力が面倒
        Entityしか使わないと、ユーザが必要な情報を全て入力しなければならない。
        作成日や、有効かどうかとか、IDとか...
###    変更に弱い
        仮にEntityの要素を増やすとなったとき、関連する全てを変更する必要がある。
        DTOやFormがあれば、その部分は変更しなくてよく、変更を最小限にとどめられる
        =>バグの可能性を下げることができる

## Reference
- [分层领域模型相关总结(DO/PO/VO/BO/DTO/Query等概念)](https://blog.csdn.net/weixin_44958006/article/details/130483078)
- [DO、DTO和VO分层设计的好处](https://www.cnblogs.com/Anidot/articles/9450219.html)]
- [【springboot】项目中的实体类PO,BO,DTO,VO的区别和作用](https://blog.csdn.net/weixin_50799082/article/details/128810442?spm=1001.2101.3001.6650.1&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-128810442-blog-130707909.235%5Ev43%5Epc_blog_bottom_relevance_base9&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-128810442-blog-130707909.235%5Ev43%5Epc_blog_bottom_relevance_base9&utm_relevant_index=2)
- [关于VO、BO、DTO、PO、Entity、DO的说法](https://blog.csdn.net/weixin_45325628/article/details/125469158?spm=1001.2101.3001.6650.2&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-2-125469158-blog-128810442.235%5Ev43%5Epc_blog_bottom_relevance_base9&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-2-125469158-blog-128810442.235%5Ev43%5Epc_blog_bottom_relevance_base9&utm_relevant_index=5)
- [https://cs27.org/wiki/kobespiral2021/?SpringBoot/DTO](https://cs27.org/wiki/kobespiral2021/?SpringBoot/DTO)
- [【Java】formとentityとdtoの違いって？【Bean】](https://qiita.com/mtanabe/items/c879d233d297eda288d4)